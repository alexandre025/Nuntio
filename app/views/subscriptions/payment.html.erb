<%= render partial: 'subscriptions/header', locals: { current: :payment } %>

<div class="subscription-container">

  <h2 class="title">Moyen de paiement</h2>

  <div class="subscription-total">
    <div class="total-discount-amount">
      <p class="subscription-total__title">Montant</p>
      <p class="subscription-total__value"><%= Money.new(@subscription.amount, 'EUR') %>€ /mois</p>
    </div>
  </div>

  <%= simple_form_for :payment, url: subscription_path, method: :patch, html: {class: 'main-form'} do |f| %>
    <div class="field">
      <%= f.input :credit_card_owner, label: false, placeholder: 'Titulaire de la carte' %>
    </div>
    <div class="field field-card">
      <%= f.input :credit_card, label: false, placeholder: 'Numéro de la carte' %>
    </div>
    <div class="field semi-field">
      <%= f.input :expiration, label: false, placeholder: 'Date d\'expiration (mm/aa)' %>
    </div>
    <div class="field semi-field field-password">
      <%= f.input :ccv, label: false, placeholder: 'Cryptogramme (123)' %>
    </div>

    <div class="clear"></div>

    <div class="subscription-actions">
      <%= link_to 'Retour au panier', edit_subscription_path, class: 'cancel' %>
      <%= f.button :submit, class: 'main-link', value: 'Confirmer', data: {'disable-with': 'Chargement' } %>
    </div>

    <div class="clear"></div>
  <% end %>

</div>
