<% unless request.xhr? %>
  <%- content_for :header_nav_bar do -%>
    <%= render partial: 'shared/header_nav_bar', locals: { current: nil } %>
  <%- end -%>
  <div class="modal-alternative">
<% else %>
  <%= image_tag 'icons/icon-close-black.png', class: 'modal-close', data: { dismiss: 'modal' } %>
<% end %>

    <h2 class="modal-title">Inscription</h2>

    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: 'main-form main-form-modal' }) do |f| %>
      <%= devise_error_messages! %>

      <div class="field">
        <%= f.input_field :firstname, autofocus: true, placeholder: 'Prénom' %>
      </div>

      <div class="field">
        <%= f.input_field :lastname, autofocus: true, placeholder: 'Nom' %>
      </div>

      <div class="field">
        <%= f.email_field :email, autofocus: true, placeholder: 'Adresse e-mail' %>
      </div>

      <div class="field">
        <%= f.password_field :password, autocomplete: "off", placeholder: 'Mot de passe' %>
        <% if @minimum_password_length %>
          <!--<br /><em>(<%#= @minimum_password_length %> characters minimum)</em>-->
        <% end %>
      </div>

      <div class="field">
        <%= f.password_field :password_confirmation, autocomplete: "off", placeholder: 'Confirmation du mot de passe' %>
      </div>

      <div class="field">
        <%= f.fields_for :user do |u| %>
          <%= u.check_box :terms %>
          <%= u.label :terms, "J'accepte les #{ link_to("conditions générales", "#") }".html_safe %>
        <% end %>
      </div>

      <div class="actions">
        <%= f.submit "Inscription" %>
      </div>
    <% end %>

    <div class="modal-footer">
      <p>
        Vous n'avez pas de compte ?
        <%= link_to "Connectez-vous", new_session_path(resource_name) %>
      </p>
    </div>

<% unless request.xhr? %>
  </div>
<% end %>
